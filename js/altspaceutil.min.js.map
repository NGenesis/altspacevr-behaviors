{"version":3,"sources":["../js/common.js","../js/NativeComponent.js","../js/OrbitControls.js","../js/UserEvents.js"],"names":["initCollisionEventHandler","altspace","inClient","this","placeholder","nativeEvents","altspaceutil","addNativeEventListener","type","thisMeshId","otherMeshId","relativeVelocityX","relativeVelocityY","relativeVelocityZ","normalX","normalY","normalZ","pointX","pointY","pointZ","thisObject3D","getObject3DById","otherObject3D","event","bubbles","target","object3d","other","relativeVelocity","x","y","z","point","position","normal","dispatchEvent","bind","window","behaviors","name","callback","_internal","couiEngine","on","removeNativeEventListener","off","removeAllNativeEventListeners","events","meshId","getThreeJSScene","getAbsoluteURL","url","startsWith","location","origin","currPath","pathname","endsWith","split","slice","join","manageBehavior","behavior","__isManaged","__resetManagedBehavior","addEventListener","removeEventListener","traverse","child","__behaviorList","__isInitialized","console","log","dispose","call","error","group","stack","groupEnd","unmanageBehavior","NativeComponentDefaults","n-object","data","res","n-spawner","n-text","text","fontSize","width","height","horizontalAlign","verticalAlign","n-sphere-collider","isTrigger","center","radius","config","meshComponent","initComponent","n-box-collider","size","n-capsule-collider","direction","n-mesh-collider","convex","recursiveMesh","inheritParentData","n-container","capacity","count","oldCount","component","detail","stateName","didGain","oldState","state","undefined","forwardPlaceholderEvent","n-sound","src","loop","volume","autoplay","oneshot","spatialBlend","pitch","minDistance","maxDistance","overrideNativeSoundLoadedEvent","forwardEventToChildIFrames","arguments","object3D","el","targetEl","emit","callComponent","functionName","functionArgs","update","initialized","updateNativeComponent","playHandlerType","playHandler","n-skeleton-parent","part","side","index","userId","n-cockpit-parent","sendUpdates","n-billboard","n-layout-browser","isEnclosure","scene","userData","n-portal","targetSpace","targetPosition","targetQuaternion","w","targetEntity","updateMatrixWorld","getWorldPosition","quaternion","getWorldQuaternion","n-gltf","sceneIndex","n-rigidbody","mass","drag","angularDrag","useGravity","isKinematic","positionConstraints","rotationConstraints","NativeComponent","_type","_data","_config","managed","defaults","Object","assign","recursive","useCollider","updateOnStaleData","sharedComponent","JSON","parse","stringify","awake","o","s","THREE","Mesh","_sharedNativeComponent","sharedData","BoxBufferGeometry","MeshBasicMaterial","visible","push","parent","add","collider","enabled","linkedParent","getBehaviorByType","addBehavior","addNativeComponent","newData","oldData","callNativeComponent","childComponent","removeBehavior","nativeEvent","hasOwnProperty","clear","removeNativeComponent","indexOf","splice","length","remove","clone","NativeComponentSync","componentType","sync","syncRef","dataRef","dataRefUpdate","snapshot","isMine","val","intervalId","setInterval","autoSendRateMS","set","clearInterval","OrbitControls","controls","deltaTime","UserEvents","onRequestData","refreshTime","trace","userIds","time","loading","users","constructor","Array","dataRequest","FileLoader","setWithCredentials","self","getUser","then","user","requestUserData","onLoaded","obj","json","jsonuser","user_id","oldUsername","username","oldDisplayName","displayName","display_name","oldOnline","online","jsonavatar","user_avatar","avatar","oldAvatarId","avatarId","avatar_sid","avatarClass","oldAvatarColors","avatarColors","oldAvatarTextures","avatarTextures","avatarAppearanceChanged","texturePrefix","hair","skin","clothing","highlight","getAvatarColor","equals","primary","colors","textures","onError","xhr","responseURL","subscribeUser","unsubscribeUser","requestUserIds","load","color","getColorFromRGB","r","g","b","Color","getColorFromName","colorRGB","black","darkgrey","grey","white"],"mappings":"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","file":"../js/altspaceutil.min.js"}